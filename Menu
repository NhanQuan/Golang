/*
  Wrap long lines on rough column boundaries at spaces
  Working example: https://play.golang.org/p/3u0X6NyMua
  Based on algo from RosettaCode, which is nifty
  https://www.rosettacode.org/wiki/Word_wrap#Go
*/

package main

import (
	"fmt"
	"strings"
)

// Wraps text at the specified column lineWidth on word breaks

func word_wrap(text string, lineWidth int) string {
	words := strings.Fields(strings.TrimSpace(text))
	if len(words) == 0 {
		return text
	}
	wrapped := words[0]
	spaceLeft := lineWidth - len(wrapped)
	for _, word := range words[1:] {
		if len(word)+1 > spaceLeft {
			wrapped += "\n" + word
			spaceLeft = lineWidth - len(word)
		} else {
			wrapped += " " + word
			spaceLeft -= 1 + len(word)
		}
	}

	return wrapped

}

func main() {

	longTextStr :=
		
		`Trong kế hoạch chống ùn tắc giao thông giai đoạn 2022-2025 vừa ban hành, chính quyền thủ đô đề ra hàng loạt giải pháp, trong đó có rà soát, bố trí các điểm đỗ xe tĩnh trong nội đô và trên địa bàn các quận; đầu tư hệ thống giao thông tiếp cận cho người khuyết tật, người cao tuổi tại các đô thị, các công trình đảm bảo giao thông cho những người dễ bị tổn thương; nghiên cứu thí điểm làn đường dành riêng cho xe đạp.`

	fmt.Printf("Original: [%v] \n", longTextStr)
	fmt.Println("--------------------------------")

	wrapped := word_wrap(longTextStr, 40)
	
	fmt.Println(wrapped)

}
